{% extends "base/base.html" %}

{% block title %}Crawl {{ crawl.name }}{% endblock %}

{% block content %}

{% include "base/sidebar.html" %}

<div class='row'>
  <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
    <h1>{{ crawl.name }} <small>({{ crawl.crawler }})</small></h1>
    <p>Crawl Status: <span id="status">Unknown</span></p>
  </div>
</div>
<div class='row'>
        <div class='col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 controls'>
            <div class='col-xs-2'>
              <button id="playButton" title="Start Crawl" type="button" class="btn btn-control"
                data-container="body"
                  {% if crawl.crawler == "ache" and status == "Running crawl" or status == "Crawl was stopped" %}
                    disabled
                  {% endif %}
                data-toggle="tooltip" data-placement="bottom">
                  <i class="fa fa-play"></i>
              </button>
              <button id="stopButton" title="Stop Crawl" type="button" class="btn btn-control"
                data-container="body"
                  {% if crawl.crawler == "ache" and status != "Running crawl" %}
                    disabled
                  {% endif %}
                data-toggle="tooltip" data-placement="bottom">
                  <span class="fa fa-stop"></span>
              </button>
              </div>
              <div class='col-xs-2'>
              <!-- <button id="seedButton" type="button" class="btn btn-control">
                  <i class="fa fa-file-o"></i>
              </button> -->
              <a href="#TODO" style='text-decoration:none;'>
                <button id="editButton" type="button" title="Edit Crawl" class="btn btn-control"
                data-container="body"
                data-toggle="tooltip" data-placement="bottom">
                  <i class="fa fa-edit"></i>
                </button>
              </a>
                <button id="removeButton" title="Delete Crawl" class="btn btn-control" type="button"
                data-container="body"
                data-toggle="tooltip" data-placement="bottom">
                    <span class="fa fa-close"></span>
                </button>
            </div>
      </div>

  </div>
<div class='row'>
    <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
        {% if divs %}
        {% for div in divs %}
            <div class='col-sm-6'>
                {{ div | safe }}
            </div>
        {% endfor %}
        <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
            <!-- <button type="button" id="reload" class="btn btn-primary">Refresh</button> -->
            <button type="button" id="reload">Refresh</button>
        </div>
        {% else %}
        <h3>There are no plots to show.</h3>
       {% endif %}
    </div>
</div>

<div class='row'>
  <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
        {% if crawl.crawler == 'ache' and divs %}
        <a class="btn btn-default btn-padded center"
        href="#TODO">
        Download Relevant Pages</a>
        {% endif %}
        {% if crawl.crawler == 'nutch' %}
        <button id="imageDump" type="button" title="Dump crawled images" class="btn btn-default btn-duo center">
            <a>Get Images</a>
        </button>
        {% endif %}
      {% if crawl.description %}
      <h3>Description</h3>
      <p>{{ crawl.description }}</p>
      {% endif %}
      <h3>Summary Statistics</h3>
        <span id="stats-data">Getting crawl statistics...</span>
      {% if crawl.crawler == 'ache' %}
      <h3>Crawl Model</h3>
      <p> {{ model.name }}</p>
      {% endif %}
    </div>
  </div>
</div>
</div>
{% endblock content %}
